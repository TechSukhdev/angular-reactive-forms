<div class="container">
  <h2>Add User</h2>
  <form [formGroup]="userForm" (ngSubmit)="submit()">
    <div class="row">
    	<div class="col-md-6 offset-md-3">
    		<div class="form-group">
		      <label for="name">Name:</label>
		      <input type="text" class="form-control" id="name" placeholder="Enter Name" formControlName="name">
		      <div class="error" *ngIf="submited && getControls.name.errors">
                    <span *ngIf="getControls.name.errors.required">Name is required.</span>
              </div>
		    </div>
		    <div class="form-group">
		      <label for="email">Email:</label>
		      <input type="email" class="form-control"  placeholder="Enter Email"
		      formControlName="email">
		      <div class="error" *ngIf="submited && getControls.email.errors">
              <span *ngIf="getControls.email.errors.required">Email is required.</span>
              <span *ngIf="getControls.email.errors.email">Enter valid email address.</span>
          </div>
		    </div>

		    <div class="form-group">
		      <label for="email">Number:</label>
		      <input type="email" class="form-control"  placeholder="Enter Your Number"
		      formControlName="number">
		      <div class="error" *ngIf="submited && getControls.number.errors">
                <span *ngIf="getControls.number.errors.required">Number is required.</span>
                <span *ngIf="getControls.number.errors.pattern">Enter only numbers.</span>
          </div>
		    </div>

		    <div class="form-group">
		      <label for="email">Bio:</label>
		       <textarea class="form-control" placeholder="Enter User Bio"
		       formControlName="bio"></textarea>
		       <div class="error" *ngIf="submited && getControls.bio.errors">
                    <span *ngIf="getControls.bio.errors.required">Bio is required.</span>
               </div>
		    </div>
        <div class="row mt-2">
        	<div class="col-md-12">
        		<button class="btn btn-primary" (click)="addNewMember()" type="button">Add Family Member</button>
        	</div>
        </div>
        	
        <ng-container formArrayName="familyMembers">
	        <div class="row border p-2 mt-2" *ngFor="let members of familyMemberControls.controls; let i=index">
		        	<div class="col-md-10 ">
		        		<h5>Member-{{i+1}}</h5>
		        	</div>
		        	<div class="col-md-2 ">
		        		<a href="javascript:void(0)" (click)="removeMember(i)"><i class="fa fa-trash">Remove</i></a>
		        	</div>
		        	<div class="row" formGroupName="{{i}}">
		            <div class="col-md-12">
		        		 <div class="form-group">
						      <label for="email">Relation:</label>
						      <select class="form-control" formControlName="name">
						      	<option value="">Select Relation</option>
						      	<option value="Father">Father</option>
						      	<option value="Mother">Mother</option>
						      	<option value="Other">Other</option>
						      </select>
						     </div>
		           	</div>
			        	<div  class="col-md-6" >
			        		<div class="form-group">
							      <label for="email">Name:</label>
							      <input type="email" class="form-control"  placeholder="Enter Name"
							      formControlName="name">
							    </div>
			        	</div>
			        	<div  class="col-md-6">
			        		<div class="form-group">
							      <label for="email">Phone Number:</label>
							      <input type="email" class="form-control"  placeholder="Enter Number"
							      formControlName="number">
							    </div>
			        	</div>
		        	</div>
	        </div>
        </ng-container>

		    <div class="form-group mt-3">	
		      <p class="text-center">
		      	<button type="submit" class="btn btn-danger">Reset</button>
		        <button type="submit" class="btn btn-primary ml-6">Submit</button>
		      </p>
		    </div>
    	</div>
    </div>
  </form>
</div>